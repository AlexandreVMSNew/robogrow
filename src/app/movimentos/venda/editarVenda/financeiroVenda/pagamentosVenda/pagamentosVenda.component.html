{{abrirTemplate(templatePagamentosVenda)}}
<div bsModal #templatePagamentosVenda="bs-modal" [config]="{backdrop: 'static', keyboard: false}" class="modal fade bd-example-modal-xl">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h4 id="dialog-sizes-name1" class="modal-title pull-left">
          Pagamentos da Venda ({{produtoItem.descricao}})
        </h4>

        <button type="button" class="close pull-right" (click)="fecharTemplate(templatePagamentosVenda)"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="box box-primary">
          <div class="box-header with-border">
            <div class="row">
              <div style="margin-right: 15px;" class="pull-right" *ngIf="this.venda.status != 'FINALIZADO'">
                <a (click)="abrirTemplatePagamento()" class="btn btn-success">
                  <i class="fa fa-plus-circle"></i>&nbsp; Novo Pagamento
                </a>
              </div>
            </div>
            <table style="margin-top: 15px;" class="table table-striped table-bordered mt-4">
              <thead class="thead-light">
                <tr>
                  <th >Id</th>
                  <th >Pessoa</th>
                  <th style="text-align: center;">Data Emissão</th>
                  <th style="text-align: center;">Valor</th>
                  <th style="text-align: center;">Ações</th>
                </tr>
              </thead>
              <tbody *ngIf="pagamentos && pagamentos.length">
                <tr
                  *ngFor="let pagamento of pagamentos">
                 
                  <td style="white-space: nowrap;">{{pagamento.id}}</td>
                  <td style="white-space: nowrap;">{{pagamento.pessoas.nome}}</td>
                  <td style="white-space: nowrap;text-align: center;">{{ pagamento.dataEmissao  | date:'dd/MM/yyyy'}}</td>
                  <td style="white-space: nowrap;text-align: center;">{{ pagamento.valorTotal | currency:' ':false}}</td>
                  <td style="text-align: center;white-space: nowrap;">
                    <div class="btn-group">
                      <a (click)="abrirTemplateDetalharPagamento(pagamento.id)" tooltip="Detalhar Pagamento"
                        class="btn btn-sm btn-primary">
                        <i class="fa fa-edit"></i>
                      </a>
                    </div>
                  </td>
                </tr>
              </tbody>
              <tfoot *ngIf="!pagamentos">
                <tr colspan="7" class="text-center"></tr>
                <h4>
                  Nenhum Pagamento encontrado!
                </h4>
              </tfoot>
            </table>

          </div>

        </div>


      </div>
      <div class="modal-footer d-flex">
        <button class="btn btn-secondary" (click)="fecharTemplate(templatePagamentosVenda)">
          Fechar
        </button>
      </div>
    </div>
  </div>

</div>

<app-template-pagamento [idVenda]="this.venda.id" [produtoItem]="this.produtoItem" *ngIf="getTemplatePagamento() == true"></app-template-pagamento>

<app-detalhar-pagamento [idPagamento]="this.idDetalharPagamento" [produtoItem]="this.produtoItem" *ngIf="getDetalharPagamento() == true">
</app-detalhar-pagamento>