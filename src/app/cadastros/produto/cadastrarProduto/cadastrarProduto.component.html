<h2>Produto</h2>
<hr width="100%">
<div class="box box-primary" *ngIf="this.cadastrar == true">
  <div class="box-header with-border">
    <tabset>
      <tab heading="Geral" style="margin-top: 10px;">
        <form [formGroup]="cadastroForm" class="mt-3">
          <div class="row mt-4">
            <div class="form-group col-md-5">
              <label>Descrição:(*)</label>
              <input style="text-transform: uppercase" oninput="this.value = this.value.toUpperCase()"
                class="form-control" type="text" formControlName="descricao" [ngClass]="{ 'is-invalid': cadastroForm.get('descricao').errors && 
                                        cadastroForm.get('descricao').touched}" />

              <div *ngIf="cadastroForm.get('descricao').hasError('required') &&cadastroForm.get('descricao').touched"
                class="invalid-feedback">
                Campo obrigatório.
              </div>
            </div>
            <div class="form-group col-md-3">
                <label>Valor Mínimo do Produto:</label>
                <div class="input-group">
                  <input class="form-control" currencyMask formControlName="valorMinimo"
                    [options]="{ prefix: '', thousands: '.', decimal: ',' }" [ngClass]="{ 'is-invalid': cadastroForm.get('valorMinimo').errors && 
                    cadastroForm.get('valorMinimo').touched}" />
                  <span class="input-group-addon"><i class="fa fa-dollar"></i></span>
                </div>
                <div
                  *ngIf="cadastroForm.get('valorMinimo').hasError('required') && cadastroForm.get('valorMinimo').touched"
                  class="invalid-feedback">
                  Campo obrigatório.
                </div>
                <div
                  *ngIf="cadastroForm.get('valorMinimo').hasError('min') && cadastroForm.get('valorMinimo').touched"
                  class="invalid-feedback">
                  Valor deve ser maior que 0.
                </div>
              </div>
          </div>
        </form>
      </tab>
    </tabset>
  </div>
  
  <button *ngIf="this.cadastrar == true" style="position:relative;margin-bottom: 15px;" [disabled]="!cadastroForm.valid" 
    (click)="cadastrarProduto()" tooltip="Cadastrar Produto"class="btn btn-lg btn-primary">
    &nbsp;Cadastrar
  </button>
</div>
<div *ngIf="this.cadastrar == false">
  Você não tem permissão.
</div>